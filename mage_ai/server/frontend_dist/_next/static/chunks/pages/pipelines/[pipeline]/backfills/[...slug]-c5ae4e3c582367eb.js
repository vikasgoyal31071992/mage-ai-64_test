(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{74395:function(e,n,t){"use strict";t.d(n,{M:function(){return a},W:function(){return r}});var i=t(25976),l=t(46684),r=34*t(70515).iI,a=i.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],l.Mz)},8955:function(e,n,t){"use strict";t.d(n,{G7:function(){return P},ZP:function(){return _},u$:function(){return x}});var i=t(75582),l=t(82394),r=t(26304),a=t(90299),s=t(9134),c=t(24138),u=t(38276),o=t(30160),d=t(75499),p=t(70515),f=t(16488),b=t(42122),v=t(28598),h=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=44,Z={uuid:"Run details"},g={uuid:"Dependency tree"},P=[g,Z];function _(e){var n=e.height,t=e.heightOffset,l=e.pipeline,m=e.selectedRun,_=e.selectedTab,k=e.setSelectedTab,y=j({},(0,r.Z)(e,h));m?y.blockStatus=(0,f.IJ)(null===m||void 0===m?void 0:m.block_runs):y.noStatus=!0;var O=(0,b.Kn)(null===m||void 0===m?void 0:m.variables)?j({},null===m||void 0===m?void 0:m.variables):(null===m||void 0===m?void 0:m.variables)||{},I=null===m||void 0===m?void 0:m.event_variables;if(I&&(0,b.Kn)(I)&&!(0,b.Qr)(I))if((0,b.Kn)(O)&&O.hasOwnProperty("event")){var S=(0,b.Kn)(O.event)?O.event:{};O.event=j(j({},S),I)}else O.event=j({},I);var E=[];O&&JSON.stringify(O,null,2).split("\n").forEach((function(e){E.push("    ".concat(e))}));var D=m&&[["Run ID",null===m||void 0===m?void 0:m.id],["Variables",(0,v.jsx)(s.Z,{language:"json",small:!0,source:E.join("\n")},"variable_value")]],w=m&&(0,v.jsx)(u.Z,{pb:p.cd,px:p.cd,children:(0,v.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:D.map((function(e,n){var t=(0,i.Z)(e,2),l=t[0],r=t[1];return[(0,v.jsx)(o.ZP,{monospace:!0,muted:!0,children:l},"key_".concat(n)),(0,v.jsx)(o.ZP,{monospace:!0,textOverflow:!0,children:r},"val_".concat(n))]})),uuid:"LogDetail"})}),C=_&&k;return(0,v.jsxs)(v.Fragment,{children:[C&&(0,v.jsx)(u.Z,{py:p.cd,children:(0,v.jsx)(a.Z,{onClickTab:k,selectedTabUUID:null===_||void 0===_?void 0:_.uuid,tabs:P,underlineStyle:!0})}),(!C||g.uuid===(null===_||void 0===_?void 0:_.uuid))&&(0,v.jsx)(c.ZP,j(j({},y),{},{height:n,heightOffset:(t||0)+(C?x:0),pipeline:l})),Z.uuid===(null===_||void 0===_?void 0:_.uuid)&&w]})}},83641:function(e,n,t){"use strict";t.d(n,{I7:function(){return i},IB:function(){return c},VV:function(){return r},_7:function(){return a},rn:function(){return s}});var i,l=t(41143),r="datetime",a="code",s=l.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(i||(i={}));var c=[i.MINUTE,i.HOUR,i.DAY,i.WEEK,i.MONTH,i.YEAR,i.CUSTOM]},51532:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ce}});var i=t(75582),l=t(77837),r=t(82394),a=t(38860),s=t.n(a),c=t(82684),u=t(69864),o=t(34376),d=t(83641),p=t(71180),f=t(15338),b=t(55485),v=t(85854),h=t(55072),m=t(75457),j=t(27966),x=t(44265),Z=t(83784),g=t(44085),P=t(38276),_=t(4190),k=t(75499),y=t(30160),O=t(35686),I=t(8955),S=t(72473),E=t(74395),D=t(70515),w=t(28795),C=t(81728),M=t(16488),T=t(8916),N=t(81655),F=t(15610),L=t(42122),A=t(50178),U=t(72619),R=t(95924),B=t(69419),V=t(70320),H=t(28598);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=e.backfill,t=e.errors,l=e.fetchBackfill,r=e.pipeline,a=e.setErrors,s=e.variables,Y=(0,A.Ct)(),K=(0,V.qB)(),X=(0,o.useRouter)(),W=n||{},q=W.block_uuid,G=W.end_datetime,Q=W.id,J=W.interval_type,$=W.interval_units,ee=W.name,ne=W.pipeline_run_dates,te=W.start_datetime,ie=W.status,le=W.total_run_count,re=W.variables,ae=void 0===re?{}:re,se=r.uuid,ce=(0,B.iV)(),ue={_limit:40,_offset:40*(null!==ce&&void 0!==ce&&ce.page?ce.page:0)};null!==ce&&void 0!==ce&&ce.status&&(ue.status=ce.status);var oe=O.ZP.pipeline_runs.list(z(z({},ue),{},{backfill_id:Q}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!Q}),de=oe.data,pe=oe.mutate,fe=!(te&&G&&J&&$),be=!ie,ve=(0,c.useMemo)((function(){return(be?ne:null===de||void 0===de?void 0:de.pipeline_runs)||[]}),[de,ne,be]),he=(0,c.useMemo)((function(){var e;return(null===de||void 0===de||null===(e=de.metadata)||void 0===e?void 0:e.count)||[]}),[de]),me=(0,c.useState)(null),je=me[0],xe=me[1],Ze=(0,c.useMemo)((function(){var e=null!==ce&&void 0!==ce&&ce.page?ce.page:0;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{disableRowSelect:be,emptyMessage:null!==ce&&void 0!==ce&&ce.status?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:pe,onClickRow:function(e){return xe((function(n){var t=ve[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:ve,selectedRun:je,setErrors:a,setSelectedRun:xe}),(0,H.jsx)(P.Z,{p:2,children:(0,H.jsx)(h.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),t=z(z({},ce),{},{page:n>=0?n:0});X.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(se,"/backfills/").concat(Q,"?").concat((0,B.uM)(t)))},page:Number(e),totalPages:Math.ceil(he/40)})})]})}),[pe,Q,ve,se,ce,X,je,a,be,he]),ge=(0,c.useState)(I.G7[0]),Pe=ge[0],_e=ge[1],ke=(0,u.Db)(O.ZP.backfills.useUpdate(Q),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){l(),pe()},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),ye=(0,i.Z)(ke,2),Oe=ye[0],Ie=ye[1].isLoading,Se=(0,c.useMemo)((function(){return!!ie&&(d.rn.CANCELLED!==ie&&d.rn.FAILED!==ie)}),[ie]),Ee=(0,c.useMemo)((function(){return ie&&d.rn.CANCELLED!==ie&&d.rn.FAILED!==ie&&d.rn.INITIAL!==ie&&d.rn.RUNNING!==ie}),[ie]),De=(0,c.useMemo)((function(){var e={default:!0,size:1.5*D.iI},n=[[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.MultiShare,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:q?d._7:d.VV},"backfill_type")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Switch,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,c.createElement)(y.ZP,z(z({},(0,N.NC)(ie)),{},{key:"backfill_status"}),ie||"inactive")]];return q||n.push.apply(n,[[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.CalendarDate,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:(0,M.Uc)(te,K)},"backfill_start_date")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.CalendarDate,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:(0,M.Uc)(G,K)},"backfill_end_date")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Schedule,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:J&&(0,C.kC)(J)},"interval_type")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Schedule,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:$},"interval_units")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.NumberHash,z({},e)),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Total runs"})]},"total_runs_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:le},"total_runs")]]),(0,H.jsx)(k.Z,{columnFlex:[null,1],rows:n})}),[q,K,G,J,$,te,ie,le]),we=(0,c.useMemo)((function(){return ae||{}}),[ae]),Ce=(0,c.useMemo)((function(){var e=(0,T.wx)(s,(function(e){return e.uuid===Z.C}))||[];return(0,L.Qr)(we)||Object.entries(we).forEach((function(n){var t=(0,i.Z)(n,2),l=t[0],r=t[1],a=e.findIndex((function(e){return(null===e||void 0===e?void 0:e.uuid)===l}));-1!==a?e.splice(a,1,{uuid:l,value:(0,T.FS)(r)}):e.push({uuid:l,value:(0,T.FS)(r)})})),"undefined"!==typeof e&&null!==e&&void 0!==e&&e.length?(0,H.jsx)(k.Z,{columnFlex:[null,1],rows:e.map((function(e){var n=e.uuid,t=e.value;return[(0,H.jsx)(y.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[we,s]);return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(m.Z,{afterHidden:!je,before:(0,H.jsxs)(E.M,{children:[(0,H.jsxs)(P.Z,{mb:D.HN,pt:D.cd,px:D.cd,children:[(0,H.jsx)(P.Z,{mb:D.cd,children:(0,H.jsx)(S.Backfill,{size:5*D.iI})}),(0,H.jsx)(v.Z,{children:ee})]}),(0,H.jsx)(P.Z,{px:D.cd,children:(0,H.jsx)(v.Z,{level:5,children:"Settings"})}),(0,H.jsx)(f.Z,{light:!0,mt:1,short:!0}),De,Ce&&(0,H.jsxs)(P.Z,{my:D.HN,children:[(0,H.jsx)(P.Z,{px:D.cd,children:(0,H.jsx)(v.Z,{level:5,children:"Runtime variables"})}),(0,H.jsx)(f.Z,{light:!0,mt:1,short:!0}),Ce]})]}),beforeWidth:34*D.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(se,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return ee},linkProps:{as:"/pipelines/".concat(se,"/backfills/").concat(Q),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,I.ZP)(z(z({},e),{},{selectedRun:je,selectedTab:Pe,setSelectedTab:_e}))},errors:t,pageName:w.M.BACKFILLS,pipeline:r,setErrors:a,subheader:(0,H.jsxs)(b.ZP,{alignItems:"center",children:[!Ee&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(p.ZP,{beforeIcon:Se?(0,H.jsx)(S.Pause,{size:2*D.iI}):(0,H.jsx)(S.PlayButtonFilled,{inverted:!(d.rn.CANCELLED===ie||d.rn.FAILED===ie),size:2*D.iI}),danger:Se,disabled:fe,loading:Ie,onClick:function(e){(0,R.j)(e),Oe({backfill:{status:Se?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!Se&&!(d.rn.CANCELLED===ie||d.rn.FAILED===ie)&&!fe,children:Se?"Cancel backfill":d.rn.CANCELLED===ie||d.rn.FAILED===ie?"Retry backfill":"Start backfill"}),(0,H.jsx)(P.Z,{mr:D.cd})]}),!Y&&(0,H.jsxs)(H.Fragment,{children:[ie===x.VO.COMPLETED?(0,H.jsx)(y.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}):(0,H.jsx)(p.ZP,{linkProps:{as:"/pipelines/".concat(se,"/backfills/").concat(Q,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit backfill"}),(0,H.jsx)(P.Z,{mr:D.cd})]}),!be&&(0,H.jsxs)(g.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?X.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(se,"/backfills/").concat(Q)):(0,F.u)({page:0,status:e.target.value})},paddingRight:4*D.iI,placeholder:"Select run status",value:(null===ce||void 0===ce?void 0:ce.status)||"all",children:[(0,H.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),x.IK.map((function(e){return(0,H.jsx)("option",{value:e,children:x.Do[e]},e)}))]})]}),title:function(){return ee},uuid:"backfill/detail",children:[(0,H.jsx)(P.Z,{mt:D.cd,px:D.cd,children:(0,H.jsx)(v.Z,{level:5,children:"Runs for this backfill"})}),(0,H.jsx)(f.Z,{light:!0,mt:D.cd,short:!0}),de?Ze:(0,H.jsx)(P.Z,{m:2,children:(0,H.jsx)(_.Z,{inverted:!0})})]})})},X=t(14805),W=t(50724),q=t(97618),G=t(37899),Q=t(17488),J=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],$=t(88785),ee=t(79500);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ie=function(e){var n=e.backfill,t=e.errors,l=e.fetchBackfill,r=e.pipeline,a=e.setErrors,s=e.variables,h=(0,o.useRouter)(),j=(0,V.qB)(),x=(0,c.useState)(),Z=x[0],_=x[1],I=Z||{},E=I.block_uuid,N=I.id,F=I.interval_type,A=I.interval_units,R=I.name,B=r.uuid,Y=(0,c.useMemo)((function(){return(0,L.Qr)((null===n||void 0===n?void 0:n.variables)||{})?(0,T.Tt)(s)||{}:(0,L.Xc)(n.variables,(function(e){return(0,T.FS)(e)}))}),[null===n||void 0===n?void 0:n.variables,s]),z=(0,c.useState)(!1),K=z[0],ne=z[1],ie=(0,c.useState)(Y),le=ie[0],re=ie[1],ae=(0,c.useState)(E?d._7:d.VV),se=ae[0],ce=ae[1],ue=(0,c.useState)(!1),oe=ue[0],de=ue[1],pe=(0,c.useState)(!1),fe=pe[0],be=pe[1],ve=(0,c.useState)(null),he=ve[0],me=ve[1],je=(0,c.useState)(null),xe=je[0],Ze=je[1],ge=(0,c.useState)({hour:"00",minute:"00"}),Pe=ge[0],_e=ge[1],ke=(0,c.useState)({hour:"00",minute:"00"}),ye=ke[0],Oe=ke[1];(0,c.useEffect)((function(){if(n){_(n);var e=n.start_datetime;if(e){var t=(0,ee.a)(e,{localTimezone:j});Ze(null===t||void 0===t?void 0:t.date),Oe(t.time)}var i=n.end_datetime;if(i){var l=(0,ee.a)(i,{localTimezone:j});me(null===l||void 0===l?void 0:l.date),_e(null===l||void 0===l?void 0:l.time)}}}),[j,n]);var Ie=(0,c.useMemo)((function(){var e=[[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Alphabet,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,H.jsx)(Q.Z,{monospace:!0,onChange:function(e){e.preventDefault(),_((function(n){return te(te({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:R},"model_name_input_detail")]];return d.VV===se&&e.push.apply(e,[[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.CalendarDate,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,H.jsxs)("div",{style:{minHeight:"".concat(5.75*D.iI,"px")},children:[!oe&&(0,H.jsx)(Q.Z,{monospace:!0,onClick:function(){return de((function(e){return!e}))},onFocus:function(){return de(!0)},placeholder:"YYYY-MM-DD HH:MM",value:xe?(0,M.XM)(xe,ye,{localTimezone:j}):""}),(0,H.jsx)("div",{style:{width:"400px"},children:(0,H.jsx)(W.Z,{disableEscape:!0,onClickOutside:function(){return de(!1)},open:oe,style:{position:"relative"},children:(0,H.jsx)(X.Z,{localTime:j,selectedDate:xe,selectedTime:ye,setSelectedDate:Ze,setSelectedTime:Oe,topPosition:!0})})})]},"start_time_input")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.CalendarDate,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,H.jsxs)("div",{style:{minHeight:"".concat(5.75*D.iI,"px")},children:[!fe&&(0,H.jsx)(Q.Z,{monospace:!0,onClick:function(){return be((function(e){return!e}))},onFocus:function(){return be(!0)},placeholder:"YYYY-MM-DD HH:MM",value:he?(0,M.XM)(he,Pe,{localTimezone:j}):""}),(0,H.jsx)("div",{style:{width:"400px"},children:(0,H.jsx)(W.Z,{disableEscape:!0,onClickOutside:function(){return be(!1)},open:fe,style:{position:"relative"},children:(0,H.jsx)(X.Z,{localTime:j,selectedDate:he,selectedTime:Pe,setSelectedDate:me,setSelectedTime:_e,topPosition:!0})})})]},"end_time_input")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Schedule,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,H.jsx)(g.Z,{monospace:!0,onChange:function(e){e.preventDefault(),_((function(n){return te(te({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:F,children:d.IB.map((function(e){return(0,H.jsx)("option",{value:e,children:(0,C.kC)(e)},e)}))},"interval_type_input")],[(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Schedule,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,H.jsx)(Q.Z,{disabled:!F,monospace:!0,onChange:function(e){e.preventDefault(),_((function(n){return te(te({},n),{},{interval_units:e.target.value})}))},placeholder:F?"Number of ".concat(F).concat(F!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:A},"interval_unit_input")]]),(0,L.Qr)(Y)||e.push([(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(S.Variables,{default:!0}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Runtime variables"})]},"overwrite_runtime_variables"),(0,H.jsx)(G.Z,{borderless:!0,compact:!0,enableVariablesOverwrite:K,runtimeVariables:le,setEnableVariablesOverwrite:ne,setRuntimeVariables:re},"overwrite_runtime_variables_table")]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(P.Z,{mb:2,px:D.cd,children:(0,H.jsx)(v.Z,{children:"Settings"})}),(0,H.jsx)(f.Z,{light:!0,short:!0}),(0,H.jsx)(k.Z,{columnFlex:[null,1],rows:e})]})}),[he,xe,j,K,F,A,R,le,Y,se,oe,fe,Pe,ye]),Se=(0,u.Db)(O.ZP.backfills.useUpdate(N),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){l(),h.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(B,"/backfills/").concat(N))},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),Ee=(0,i.Z)(Se,2),De=Ee[0],we=Ee[1].isLoading,Ce=(0,c.useCallback)((function(){var e=te(te({},(0,L.GL)(Z,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,start_datetime:null,variables:K?(0,T.e7)(le):{}});return d._7===se||(e.interval_type=F,e.interval_units=A,e.end_datetime=he&&null!==Pe&&void 0!==Pe&&Pe.hour&&null!==Pe&&void 0!==Pe&&Pe.minute?(0,M.XM)(he,Pe,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null,e.start_datetime=xe&&null!==ye&&void 0!==ye&&ye.hour&&null!==ye&&void 0!==ye&&ye.minute?(0,M.XM)(xe,ye,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null),De({backfill:e})}),[he,xe,j,K,F,A,Z,le,se,Pe,ye,De]),Me=(0,c.useMemo)((function(){return d._7===se?!E:!(he&&xe&&F&&A)}),[E,he,xe,F,A,se]);return(0,H.jsxs)(m.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(B,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null===Z||void 0===Z?void 0:Z.name},linkProps:{as:"/pipelines/".concat(B,"/backfills/").concat(N),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:t,pageName:w.M.BACKFILLS,pipeline:r,setErrors:a,subheader:(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(p.ZP,{disabled:Me,loading:we,onClick:Ce,outline:!0,primary:!0,children:"Save changes"}),(0,H.jsx)(P.Z,{mr:1}),(0,H.jsx)(p.ZP,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(B,"/backfills/").concat(N)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===Z||void 0===Z?void 0:Z.name)},uuid:"backfill/edit",children:[(0,H.jsxs)(P.Z,{p:D.cd,children:[(0,H.jsxs)(P.Z,{mb:2,children:[(0,H.jsx)(v.Z,{children:"Backfill type"}),(0,H.jsx)(y.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,H.jsx)(b.ZP,{children:J.map((function(e){var n=e.label,t=e.description,i=e.uuid,l=se===i,r=se&&!l;return(0,H.jsx)(p.ZP,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){ce(i)},children:(0,H.jsx)($.U,{selected:l,children:(0,H.jsxs)(b.ZP,{alignItems:"center",children:[(0,H.jsx)(q.Z,{children:(0,H.jsx)("input",{checked:l,type:"radio"})}),(0,H.jsx)(P.Z,{mr:D.cd}),(0,H.jsxs)(q.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,H.jsx)(v.Z,{bold:!0,default:!l&&!r,level:5,muted:!l&&r,children:n()}),(0,H.jsx)(y.ZP,{default:!l&&!r,leftAligned:!0,muted:r,children:t()})]})]})})},i)}))})]}),(0,H.jsx)(P.Z,{mt:5,children:Ie})]})},le=t(93808);function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function se(e){var n=e.backfillId,t=e.pipelineUUID,i=e.subpath,l=(0,c.useState)(null),r=l[0],a=l[1],s=O.ZP.variables.pipelines.list(t,{},{revalidateOnFocus:!1}).data,u=(0,c.useMemo)((function(){return null===s||void 0===s?void 0:s.variables}),[s]),o=O.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,d=(0,c.useMemo)((function(){return ae(ae({},null===o||void 0===o?void 0:o.pipeline),{},{uuid:t})}),[o,t]),p=O.ZP.backfills.detail(n,{include_preview_runs:!0}),f=p.data,b=p.mutate,v=(0,c.useMemo)((function(){return null===f||void 0===f?void 0:f.backfill}),[f]);return"edit"===i?(0,H.jsx)(ie,{backfill:v,errors:r,fetchBackfill:b,pipeline:d,setErrors:a,variables:u}):(0,H.jsx)(K,{backfill:v,errors:r,fetchBackfill:b,pipeline:d,setErrors:a,variables:u})}se.getInitialProps=function(){var e=(0,l.Z)(s().mark((function e(n){var t,l,r,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,l=t.pipeline,r=t.slug,!Array.isArray(r)){e.next=4;break}return a=(0,i.Z)(r,2),c=a[0],u=a[1],e.abrupt("return",{backfillId:c,pipelineUUID:l,subpath:u});case 4:return e.abrupt("return",{pipelineUUID:l});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ce=(0,le.Z)(se)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(51532)}])}},function(e){e.O(0,[9161,7674,1557,3782,7966,845,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
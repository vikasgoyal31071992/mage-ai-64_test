(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{94629:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(82394),i=r(21831),o=r(82684),u=r(50724),s=r(1402),c=r(97618),a=r(70613),l=r(31557),f=r(68899),d=r(28598);function p(e,t){var r=e.children,n=e.noPadding;return(0,d.jsx)(f.HS,{noPadding:n,ref:t,children:r})}var h=o.forwardRef(p),v=r(62547),b=r(82571),j=r(77417),g=r(46684),O=r(75375);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var r=e.after,n=e.afterHeader,o=e.afterHidden,p=e.afterWidth,m=e.afterWidthOverride,y=e.appendBreadcrumbs,Z=e.before,w=e.beforeHeader,x=e.beforeWidth,k=e.breadcrumbs,A=e.children,_=e.contained,M=e.errors,C=e.headerMenuItems,E=e.headerOffset,B=e.hideAfterCompletely,D=e.mainContainerHeader,I=e.navigationItems,R=e.setAfterHidden,H=e.setAfterWidth,W=e.setBeforeWidth,S=e.setErrors,N=e.subheaderChildren,T=e.subheaderNoPadding,L=e.title,F=e.uuid,z=(0,O.Z)(F,{beforeResizeOffset:O.H,setWidthAfter:H,setWidthBefore:W,widthAfter:p,widthBefore:x,widthOverrideAfter:m}),Q=z.mainContainerRef,U=z.mousedownActiveAfter,q=z.mousedownActiveBefore,G=z.setMousedownActiveAfter,Y=z.setMousedownActiveBefore,V=z.setWidthAfter,X=z.setWidthBefore,K=z.widthAfter,$=z.widthBefore,J=(0,j.Z)().project,ee=[];return k&&ee.push.apply(ee,(0,i.Z)(k)),null!==k&&void 0!==k&&k.length&&!y||!J||null!==k&&void 0!==k&&k.length||ee.unshift({bold:!y,label:function(){return L}}),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{title:L}),(0,d.jsx)(l.Z,{breadcrumbs:ee,menuItems:C}),(0,d.jsxs)(f.Nk,{ref:t,children:[0!==(null===I||void 0===I?void 0:I.length)&&(0,d.jsx)(f.lm,{showMore:!0,children:(0,d.jsx)(b.Z,{navigationItems:I,showMore:!0})}),(0,d.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,d.jsxs)(v.Z,{after:r,afterHeader:n,afterHeightOffset:g.Mz,afterHidden:o,afterMousedownActive:U,afterWidth:K,before:Z,beforeHeader:w,beforeHeightOffset:g.Mz,beforeMousedownActive:q,beforeWidth:Z?$:f.k1,contained:_,headerOffset:E,hideAfterCompletely:!r||B,leftOffset:Z?f.k1:null,mainContainerHeader:D,mainContainerRef:Q,setAfterHidden:R,setAfterMousedownActive:G,setAfterWidth:V,setBeforeMousedownActive:Y,setBeforeWidth:X,children:[N&&(0,d.jsx)(h,{noPadding:T,children:N}),A]})})]}),M&&(0,d.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===S||void 0===S?void 0:S(null)},children:(0,d.jsx)(s.Z,P(P({},M),{},{onClose:function(){return null===S||void 0===S?void 0:S(null)}}))})]})}var Z=o.forwardRef(y)},55072:function(e,t,r){"use strict";r.d(t,{Et:function(){return d},Q:function(){return f}});r(82684);var n=r(71180),i=r(55485),o=r(38276),u=r(31748),s=r(72473),c=r(79633),a=r(70515),l=r(28598),f=30,d=9;t.ZP=function(e){var t=e.page,r=e.maxPages,f=e.onUpdate,d=e.totalPages,p=[],h=r;if(h>d)p=Array.from({length:d},(function(e,t){return t}));else{var v=Math.floor(h/2),b=t-v;t+v>=d?(b=d-h+2,h-=2):t-v<=0?(b=0,h-=2):(h-=4,b=t-Math.floor(h/2)),p=Array.from({length:h},(function(e,t){return t+b}))}return(0,l.jsx)(l.Fragment,{children:d>0&&(0,l.jsxs)(i.ZP,{alignItems:"center",children:[(0,l.jsx)(n.ZP,{disabled:0===t,onClick:function(){return f(t-1)},children:(0,l.jsx)(s.PaginateArrowLeft,{size:1.5*a.iI,stroke:u.Av})}),!p.includes(0)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{ml:1,children:(0,l.jsx)(n.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return f(0)},children:1})},0),!p.includes(1)&&(0,l.jsx)(o.Z,{ml:1,children:(0,l.jsx)(n.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,l.jsx)(o.Z,{ml:1,children:(0,l.jsx)(n.ZP,{backgroundColor:e===t&&c.a$,borderLess:!0,noBackground:!0,notClickable:e===t,onClick:function(){e!==t&&f(e)},children:e+1})},e)})),!p.includes(d-1)&&(0,l.jsxs)(l.Fragment,{children:[!p.includes(d-2)&&(0,l.jsx)(o.Z,{ml:1,children:(0,l.jsx)(n.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,l.jsx)(o.Z,{ml:1,children:(0,l.jsx)(n.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return f(d-1)},children:d})},d-1)]}),(0,l.jsx)(o.Z,{ml:1}),(0,l.jsx)(n.ZP,{disabled:t===d-1,onClick:function(){return f(t+1)},children:(0,l.jsx)(s.PaginateArrowRight,{size:1.5*a.iI,stroke:u.Av})})]})})}},93808:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(77837),i=r(26304),o=r(62243),u=r(29385),s=r(80022),c=r(13692),a=r(93189),l=r(15544),f=r(82394),d=r(38860),p=r.n(d),h=r(82684),v=r(56663),b=r.n(v),j=r(40761),g=r(34661),O=r(36105),m=r(50178),P=r(69419),y=r(28598),Z=["auth"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}function A(e){return function(t){(0,c.Z)(a,t);var r=k(a);function a(){var e;(0,o.Z)(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,f.Z)((0,s.Z)(e),"state",{auth:new j.Z(e.props.token)}),e}return(0,u.Z)(a,[{key:"componentDidMount",value:function(){this.setState({auth:new j.Z(this.props.token)})}},{key:"render",value:function(){var t=this.props,r=(t.auth,(0,i.Z)(t,Z));return(0,y.jsx)(e,x({auth:this.state.auth},r))}}],[{key:"getInitialProps",value:function(){var t=(0,n.Z)(p().mark((function t(r){var n,i,o,u,s,c,a,l,f;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=b()(r),i=(0,m.ex)(r),o=i.id,u=n[g.Mv],s=n[O.qt],c=new j.Z(u),a=x(x({},r),{},{auth:c,currentGroupId:o,theme:s}),(0,m.YB)(r)&&c.isExpired&&(console.log("OAuth token has expired."),l=x(x({},r.query),{},{redirect_url:r.asPath}),(0,P.nL)("/sign-in?".concat((0,P.uM)(l)),r.res)),!e.getInitialProps){t.next=12;break}return t.next=10,e.getInitialProps(a);case 10:return f=t.sent,t.abrupt("return",x(x({},f),{},{auth:c,currentGroupId:o,theme:s}));case 12:return t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),a}(h.Component)}},78234:function(e,t,r){"use strict";r.r(t);var n=r(77837),i=r(82394),o=r(38860),u=r.n(o),s=r(82684),c=r(34376),a=r(94629),l=r(55072),f=r(27966),d=r(93808),p=r(82359),h=r(38276),v=r(4190),b=r(85544),j=r(35686),g=r(44265),O=r(70515),m=r(69419),P=r(86735),y=r(70320),Z=r(28598);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(){var e=(0,c.useRouter)(),t=(0,s.useState)(null),r=t[0],n=t[1],o=(0,m.iV)(),u=null!==o&&void 0!==o&&o.page?o.page:0,d=(0,m.DQ)(o,[g.P0.PIPELINE_UUID,g.P0.STATUS,g.P0.TAG]),w=j.ZP.projects.list().data,k=(0,s.useMemo)((function(){var e;return null===w||void 0===w||null===(e=w.projects)||void 0===e?void 0:e[0]}),[w]),A=((0,s.useMemo)((function(){var e;return(0,y.hY)(null===k||void 0===k||null===(e=k.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===k||void 0===k?void 0:k.features]),x(x({},d),{},{_limit:l.Q,_offset:u*l.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==o&&void 0!==o&&o.status&&(A.status=o.status);var _=j.ZP.pipeline_runs.list(A,{refreshInterval:3e3,revalidateOnFocus:!0}),M=_.data,C=_.mutate,E=j.ZP.tags.list().data,B=(0,s.useMemo)((function(){return(0,P.YC)((null===E||void 0===E?void 0:E.tags)||[],(function(e){return e.uuid}))}),[E]),D=(0,s.useMemo)((function(){return(null===M||void 0===M?void 0:M.pipeline_runs)||[]}),[M]),I=(0,s.useMemo)((function(){var e;return(null===M||void 0===M||null===(e=M.metadata)||void 0===e?void 0:e.count)||[]}),[M]),R=(0,s.useMemo)((function(){var e;return(null===M||void 0===M||null===(e=M.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[M]),H=(0,s.useMemo)((function(){return(0,Z.jsx)(b.Z,{filterOptions:{pipeline_uuid:R,pipeline_tag:B.map((function(e){return e.uuid})),status:g.IK},filterValueLabelMapping:{pipeline_tag:B.reduce((function(e,t){var r=t.uuid;return x(x({},e),{},(0,i.Z)({},r,r))}),{}),status:g.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:d,resetPageOnFilterApply:!0})}),[R,d,e,B]);return(0,Z.jsx)(a.Z,{errors:r,setErrors:n,subheaderChildren:H,title:"Pipeline runs",uuid:"pipeline_runs/index",children:M?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(f.Z,{fetchPipelineRuns:C,includePipelineTags:!0,pipelineRuns:D,setErrors:n}),(0,Z.jsx)(h.Z,{p:2,children:(0,Z.jsx)(l.ZP,{maxPages:l.Et,onUpdate:function(t){var r=Number(t),n=x(x({},o),{},{page:r>=0?r:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,m.uM)(n)))},page:Number(u),totalPages:Math.ceil(I/l.Q)})})]}):(0,Z.jsx)(h.Z,{p:O.Mq,children:(0,Z.jsx)(v.Z,{inverted:!0,large:!0})})})}k.getInitialProps=(0,n.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,d.Z)(k)},60710:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return r(78234)}])},80022:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},15544:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},13692:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},93189:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(12539),i=r(80022);function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}}},function(e){e.O(0,[1557,7966,5544,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
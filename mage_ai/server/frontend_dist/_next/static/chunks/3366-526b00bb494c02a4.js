"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3366],{78688:function(e,n,t){var r=t(82394),c=t(82684),i=t(15338),o=t(77456),l=t(97618),u=t(55485),s=t(85854),d=t(65956),a=t(38276),p=t(30160),v=t(72473),f=t(70515),h=t(74778),j=t(74260),m=t(81728),x=t(28598);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.contained,t=void 0===n||n,r=e.onClickStep,b=e.setupSteps,Z=e.small,O=(0,c.useCallback)((function(e,n,c,b){var P=e.name,E=e.description,y=e.group,I=e.error,D=e.required,C=e.status_calculated,T=e.steps,w=e.tab,_=e.uuid,S=(null===T||void 0===T?void 0:T.length)||0,N=b||{completedGroup:!1,level:0,numberEl:null},k=N.completedGroup,R=N.level,A=N.numberEl,M=0===R?2*f.iI:1.5*f.iI;if(y){var L=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Z,{p:f.cd,children:(0,x.jsx)(u.ZP,{children:(0,x.jsxs)(l.Z,{flex:1,flexDirection:"column",children:[(0,x.jsxs)(u.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,x.jsx)(s.Z,{level:Z?5:4,children:P}),(0,x.jsx)(a.Z,{mr:f.cd}),j.br.COMPLETED===C&&(0,x.jsx)(v.Check,{size:M,success:!0})]}),E&&(0,x.jsx)(a.Z,{mt:1,children:(0,x.jsx)(p.ZP,{default:!0,small:Z,children:E})})]})})}),(0,x.jsx)(i.Z,{light:!0}),null===T||void 0===T?void 0:T.map((function(e,n){return O(e,n,S,{completedGroup:j.br.COMPLETED===C,level:0})}))]});return(0,x.jsxs)(a.Z,{mb:Z?0:f.cd,children:[t&&(0,x.jsx)(d.Z,{noPadding:!0,children:L}),!t&&L]},_)}var G=j.br.COMPLETED===C,U=0===R?String(n+1):(0,m.bH)()[n].toLowerCase();var F=!!w&&r,z=(0,x.jsx)(a.Z,{pl:0===R?f.cd:0,children:(0,x.jsxs)(p.ZP,{large:!Z,monospace:!0,muted:!0,children:[U,"."]})}),H={muted:G||k,strikethrough:G||k};return(0,x.jsx)(h.aw,{clickable:!!F,onClick:F?function(){return null===r||void 0===r?void 0:r(w)}:null,children:(0,x.jsxs)(a.Z,{py:0!==R||Z?1:f.cd,children:[(0,x.jsxs)(u.ZP,{children:[A&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{opacity:0},children:A}),(0,x.jsx)(a.Z,{mr:1})]}),z,(0,x.jsx)(a.Z,{mr:1}),(0,x.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,x.jsxs)(u.ZP,{flexDirection:"column",children:[(0,x.jsxs)(u.ZP,{alignItems:"center",children:[(0,x.jsxs)(l.Z,{flex:1,children:[0===R&&!Z&&(0,x.jsx)(s.Z,g(g({level:5},H),{},{children:P})),0===R&&Z&&(0,x.jsx)(p.ZP,g(g({bold:!0,large:!0},H),{},{children:P})),R>=1&&(0,x.jsx)(p.ZP,g(g({bold:!0,large:!Z},H),{},{children:P})),!D&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Z,{mr:1}),(0,x.jsx)(p.ZP,{muted:!0,uppercase:!0,xsmall:!0,children:"optional"})]})]}),(0,x.jsx)(a.Z,{mr:f.cd}),G&&(0,x.jsx)(v.Check,{size:M,success:!0}),j.br.INCOMPLETE===C&&(0,x.jsx)(v.AlertTriangle,{muted:!0,size:M}),j.br.ERROR===C&&(0,x.jsx)(v.AlertTriangle,{danger:!0,size:M}),(0,x.jsx)(a.Z,{pr:f.cd*(C?1:2)})]}),E&&(0,x.jsx)(a.Z,{mt:1,pr:3*f.cd,children:(0,x.jsx)(p.ZP,g(g({default:!0},H),{},{small:Z,children:E}))}),I&&(0,x.jsx)(o.Z,{error:I,small:!0,warning:!0})]})})]}),S>=1&&(0,x.jsx)(a.Z,{mt:1,children:null===T||void 0===T?void 0:T.map((function(e,n){return O(e,n,S,{completedGroup:k,level:1,numberEl:z})}))})]})},_)}),[t,r,Z]),P=[],E=(null===b||void 0===b?void 0:b.length)||0;return null===b||void 0===b||b.forEach((function(e,n){e.status;P.push(O(e,n,E))})),t?(0,x.jsx)(a.Z,{p:f.cd,children:P}):(0,x.jsx)(x.Fragment,{children:P})}},89308:function(e,n,t){var r=t(82394),c=t(75582),i=t(82684),o=t(69864),l=t(71180),u=t(26032),s=t(74260),d=t(15338),a=t(97618),p=t(55485),v=t(85854),f=t(65956),h=t(78688),j=t(38276),m=t(30160),x=t(35686),b=t(70515),g=t(72473),Z=t(81728),O=t(10332),P=t(72619),E=t(23780),y=t(28598);function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.actionsOnly,t=e.computeService,r=e.computeConnections,I=e.contained,C=void 0===I||I,T=e.fetchAll,w=e.hideDetails,_=e.onClickStep,S=e.small,N=(0,E.VI)(null,{},[],{uuid:"ConnectionSettings"}),k=(0,c.Z)(N,1)[0],R=(0,i.useState)(null),A=R[0],M=R[1],L=(0,i.useState)(null),G=L[0],U=L[1],F=(0,o.Db)((function(e){var n=e.action,r=e.uuid;return x.ZP.compute_connections.compute_services.useUpdate(null===t||void 0===t?void 0:t.uuid,r)({compute_connection:{action:n}})}),{onSuccess:function(e){return(0,P.wD)(e,{callback:function(e){var n=e.compute_connection;null===T||void 0===T||T(),U(D(D({},A),{},{computeConnection:n}))},onErrorCallback:function(e,n){return k({errors:n,response:e})}})}}),z=(0,c.Z)(F,2),H=z[0],V=z[1].isLoading;return(0,i.useEffect)((function(){if(G){var e,n=null===r||void 0===r?void 0:r.find((function(e){var n,t=e.uuid;return(null===G||void 0===G||null===(n=G.computeConnection)||void 0===n?void 0:n.uuid)===t}));(null===n||void 0===n?void 0:n.state)!==(null===G||void 0===G||null===(e=G.computeConnection)||void 0===e?void 0:e.state)&&U(null)}}),[r,G,U]),(0,y.jsx)(j.Z,{py:C?b.cd:0,children:null===r||void 0===r?void 0:r.map((function(e,t){var r,i,o,x,P=e.actions,E=e.attributes,I=e.connection,D=e.description,T=e.name,N=e.required,k=e.status_calculated,R=e.steps,L=e.uuid;!w&&!n&&E&&(null===(r=Object.keys(E||{}))||void 0===r?void 0:r.length)>=1&&(o=(0,O.s)(Object.entries(E||{}).map((function(e){var n=(0,c.Z)(e,2),t=n[0],r=n[1];return[(0,Z.vg)(t),r]})))),!w&&!n&&I&&(null===(i=Object.keys(I||{}))||void 0===i?void 0:i.length)>=1&&(x=(0,O.s)(Object.entries(I||{}).map((function(e){var n=(0,c.Z)(e,2),t=n[0],r=n[1];return[(0,Z.vg)(t),r]}))));var F=(0,y.jsxs)(y.Fragment,{children:[!n&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsx)(p.ZP,{children:(0,y.jsxs)(a.Z,{flex:1,flexDirection:"column",children:[(0,y.jsxs)(p.ZP,{alignItems:"center",children:[(0,y.jsx)(a.Z,{flex:1,children:(0,y.jsx)(v.Z,{level:S?5:4,children:T})}),(0,y.jsx)(j.Z,{mr:b.cd}),(0,y.jsx)(g.PowerOnOffButton,{danger:s.br.ERROR===k,muted:N&&s.br.INCOMPLETE===k,size:2*b.iI,success:!N||s.br.COMPLETED===k})]}),D&&(0,y.jsx)(j.Z,{mt:1,children:(0,y.jsx)(m.ZP,{default:!0,small:S,children:D})})]})})}),(null===R||void 0===R?void 0:R.length)>=1&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.Z,{light:!0}),(0,y.jsx)(h.Z,{contained:!1,onClickStep:_,setupSteps:R,small:S})]})]}),(o||x)&&(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsxs)(p.ZP,{children:[o&&(0,y.jsx)(f.Z,{noPadding:!0,children:(0,y.jsxs)(p.ZP,{flexDirection:"column",children:[(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsx)(m.ZP,{bold:!0,large:!0,children:"Attributes"})}),(0,y.jsx)(d.Z,{light:!0}),o,(0,y.jsx)(j.Z,{mb:b.cd})]})}),o&&x&&(0,y.jsx)(j.Z,{pr:b.cd}),x&&(0,y.jsx)(f.Z,{noPadding:!0,children:(0,y.jsxs)(p.ZP,{flexDirection:"column",children:[(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsx)(m.ZP,{bold:!0,large:!0,children:"Connection"})}),(0,y.jsx)(d.Z,{light:!0}),x,(0,y.jsx)(j.Z,{mb:b.cd})]})})]})}),(null===P||void 0===P?void 0:P.length)>=1&&(0,y.jsxs)(y.Fragment,{children:[!n&&(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsx)(p.ZP,{children:(0,y.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,y.jsx)(p.ZP,{alignItems:"center",children:(0,y.jsx)(a.Z,{flex:1,children:(0,y.jsx)(v.Z,{level:S?5:4,children:"Actions"})})})})})}),null===P||void 0===P?void 0:P.map((function(e,t){var r,c=e.description,i=e.name,o=e.uuid,s=V&&(null===A||void 0===A?void 0:A.uuid)===L&&(null===A||void 0===A?void 0:A.actionUUID)===o||u.i.PENDING===(null===G||void 0===G||null===(r=G.computeConnection)||void 0===r?void 0:r.state);return(0,y.jsxs)("div",{children:[(!n||t>=1)&&(0,y.jsx)(d.Z,{light:!0}),(0,y.jsx)(j.Z,{p:b.cd,children:(0,y.jsx)(p.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,y.jsxs)(a.Z,{flex:1,flexDirection:"column",children:[(0,y.jsx)(m.ZP,{default:!0,large:!S,children:c}),(0,y.jsx)(j.Z,{mt:b.cd,children:(0,y.jsx)(l.ZP,{compact:S,danger:[u._.DELETE].includes(o),loading:s,onClick:function(){M({actionUUID:o,uuid:L}),U(null),H({action:o,uuid:L})},primary:[u._.CREATE,u._.UPDATE].includes(o),secondary:[u._.DESELECT].includes(o),small:S,children:i})})]})})})]},o)}))]})]});return(0,y.jsxs)(j.Z,{mt:t>=1?b.cd:0,px:C?b.cd:0,children:[C&&(0,y.jsx)(f.Z,{noPadding:!0,children:F}),!C&&F]},L)}))})}},77456:function(e,n,t){var r=t(82394),c=t(75582),i=t(43695),o=t(30160),l=t(28598);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.danger,t=e.error,r=e.large,u=e.small,d=e.warning,a=t.message,p=t.variables,v=a;return p&&Object.entries(p||{}).forEach((function(e){var t=(0,c.Z)(e,2),a=t[0],p=t[1];v=v.replace("{{".concat(a,"}}"),(0,i.Dq)((0,l.jsx)(o.ZP,s(s({danger:n,inline:!0,large:r,muted:!n&&!d,small:u,warning:d},p||{}),{},{children:a}))))})),(0,l.jsx)(o.ZP,{danger:n,dangerouslySetInnerHTML:{__html:v},muted:!n&&!d,large:r,small:u,warning:d})}},74778:function(e,n,t){t.d(n,{UE:function(){return u},aw:function(){return s},bC:function(){return d}});var r=t(25976),c=t(44897),i=t(42631),o=t(70515),l=t(91437),u=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-1b5e7g-0"})([""," border-radius:","px;padding:","px;"," ",""],(0,l.eR)(),i.D7,2.5*o.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||c.Z.background).panel,";\n    border: 1px solid ").concat((e.theme.borders||c.Z.borders).darkLight,";\n    box-shadow: ").concat((e.theme.shadow||c.Z.shadow).frame,";\n  ")}),(function(e){return!e.inline&&"\n    height: ".concat(28*o.iI,"px;\n    width: ").concat(40*o.iI,"px;\n    margin: ").concat(o.cd/2*o.iI,"px;\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__SetupStepRowStyle",componentId:"sc-1b5e7g-1"})([""," ",""],(0,l.eR)(),(function(e){return e.clickable&&"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||c.Z.interactive).hoverOverlay,";\n      cursor: pointer;\n    }\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__NavigationStyle",componentId:"sc-1b5e7g-2"})([""," height:","px;padding-left:","px;padding-right:","px;"," ",""],(0,l.eR)(),7*o.iI,o.cd*o.iI,o.cd*o.iI,(function(e){return!e.selected&&"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||c.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.background||c.Z.background).codeTextarea,";\n  ")}))},28071:function(e,n,t){var r;t.d(n,{X:function(){return r}}),function(e){e.BOOTSTRAPPING="BOOTSTRAPPING",e.RUNNING="RUNNING",e.STARTING="STARTING",e.TERMINATED="TERMINATED",e.TERMINATED_WITH_ERRORS="TERMINATED_WITH_ERRORS",e.TERMINATING="TERMINATING",e.WAITING="WAITING"}(r||(r={}))},26032:function(e,n,t){var r,c;t.d(n,{_:function(){return r},i:function(){return c}}),function(e){e.CREATE="CREATE",e.DELETE="DELETE",e.DESELECT="DESELECT",e.UPDATE="UPDATE"}(r||(r={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.PENDING="PENDING"}(c||(c={}))},23657:function(e,n,t){var r=t(82394),c=t(75582),i=t(82684),o=t(74260),l=t(35686),u=t(59457),s=t(77417);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.clustersRefreshInterval,t=e.computeServiceRefreshInterval,d=e.connectionsRefreshInterval,p=e.includeAllStates,v=e.pauseFetch,f=(0,s.Z)(),h=f.sparkEnabled,j=(0,u.Z)(l.ZP.compute_services.detail,"compute-service",{},{refreshInterval:t},{condition:function(){return h&&!v}}),m=j.data,x=j.mutate,b=(0,i.useMemo)((function(){return null===m||void 0===m?void 0:m.compute_service}),[m]),g={};p&&(g.include_all_states=!0);var Z=l.ZP.compute_clusters.compute_services.list(!h||v?null:null===b||void 0===b?void 0:b.uuid,g,{refreshInterval:n}),O=Z.data,P=Z.mutate,E=(0,i.useMemo)((function(){return(null===O||void 0===O?void 0:O.compute_clusters)||[]}),[O]),y=(0,i.useMemo)((function(){return null===E||void 0===E?void 0:E.map((function(e){return e.cluster}))}),[E]),I=(0,i.useMemo)((function(){var e,n;return null!==b&&void 0!==b&&null!==(e=b.setup_steps)&&void 0!==e&&e.length?null===b||void 0===b||null===(n=b.setup_steps)||void 0===n?void 0:n.every((function(e){var n=e.required,t=e.status_calculated;return!n||!t||o.br.COMPLETED===t})):null}),[b]),D=((0,i.useMemo)((function(){return null===y||void 0===y?void 0:y.find((function(e){return e.active}))}),[y]),l.ZP.compute_connections.compute_services.list(null===b||void 0===b?void 0:b.uuid,{},{refreshInterval:d},{pauseFetch:!h||v})),C=D.data,T=D.mutate,w=(0,i.useMemo)((function(){return(null===C||void 0===C?void 0:C.compute_connections)||[]}),[C]),_=(0,i.useCallback)((function(){return new Promise((function(){null===P||void 0===P||P(),null===T||void 0===T||T(),null===x||void 0===x||x()}))}),[P,T,x]);return{activeCluster:null===y||void 0===y?void 0:y.find((function(e){return e.active})),clusters:y,clustersLoading:!O,computeService:b,computeServiceUUIDs:Object.entries(o.GO).reduce((function(e,n){var t=(0,c.Z)(n,2),i=t[0],o=t[1];return a(a({},e),{},(0,r.Z)({},i,o))}),{}),connections:w,connectionsLoading:!C,fetchAll:_,fetchComputeClusters:P,fetchComputeConnections:T,fetchComputeService:x,setupComplete:I}}}}]);
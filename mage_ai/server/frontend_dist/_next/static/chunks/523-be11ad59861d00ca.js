"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{80029:function(e,n,t){var i=t(82394),l=t(82684),u=t(25976),r=t(55485),o=t(30160),d=t(84649),s=t(28598);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.navLinks,t=e.selectedLink,i=e.setSelectedLink,c=(0,l.useContext)(u.ThemeContext);return(0,s.jsx)(s.Fragment,{children:n.map((function(e){var n=e.Icon,l=e.description,u=e.label,p=e.selectedBackgroundColor,h=e.selectedIconProps,v=e.uuid,j=(null===t||void 0===t?void 0:t.uuid)===v,m=a({size:d.ZG},j&&h?h:{});return(0,s.jsx)(d.wj,{onClick:function(){return i(e)},selected:j,children:(0,s.jsxs)(r.ZP,{alignItems:"center",children:[n&&(0,s.jsx)(d.ze,{backgroundColor:j&&p?p(c):null,children:(0,s.jsx)(n,a({},m))}),(0,s.jsxs)(r.ZP,{alignItems:"flex-start",flexDirection:"column",justifyContent:"center",children:[(0,s.jsx)(o.ZP,{bold:!0,large:!0,children:u?u():v}),l&&(0,s.jsx)(o.ZP,{muted:!0,small:!0,children:null===l||void 0===l?void 0:l()})]})]})},v)}))})}},60523:function(e,n,t){var i=t(21831),l=t(82394),u=t(82684),r=t(25976),o=t(34376),d=t(80029),s=t(54750),c=t(71180),a=t(90299),p=t(44898),h=t(55485),v=t(88328),j=t(38276),m=t(4190),f=t(48381),x=t(5755),b=t(30160),g=t(35686),y=t(72473),Z=t(84649),O=t(32929),P=t(15610),w=t(19183),k=t(28598);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.contained,l=e.defaultLinkUUID,C=e.defaultTab,_=e.objectType,S=e.onClickCustomTemplate,I=e.pipelineUUID,U=e.showAddingNewTemplates,D=e.showBreadcrumbs,L=e.tabs,M=(0,o.useRouter)(),A=(0,u.useContext)(r.ThemeContext),E=(0,w.i)(),N=E.height,q=E.width,R=(0,u.useMemo)((function(){return L||O.dP}),[L]),F=(0,u.useState)(U||!1),z=F[0],B=F[1],G=(0,u.useState)(l?O.qy.find((function(e){return e.uuid===l})):O.qy[0]),H=G[0],X=G[1],Y=(0,u.useState)(C?R.find((function(e){return e.uuid===(null===C||void 0===C?void 0:C.uuid)})):R[0]),J=Y[0],K=Y[1],Q=(0,u.useState)(null),V=Q[0],W=Q[1],$=g.ZP.custom_templates.list({object_type:p.Z},{},{pauseFetch:O.n9.uuid!==(null===J||void 0===J?void 0:J.uuid)}),ee=$.data,ne=$.mutate,te=(0,u.useMemo)((function(){var e=(null===ee||void 0===ee?void 0:ee.custom_templates)||[];return null!==H&&void 0!==H&&H.filterTemplates?null===H||void 0===H?void 0:H.filterTemplates(e):e}),[ee,H]),ie=g.ZP.custom_templates.list({object_type:p.R},{},{pauseFetch:O.A2.uuid!==(null===J||void 0===J?void 0:J.uuid)}),le=ie.data,ue=ie.mutate,re=(0,u.useMemo)((function(){var e=(null===le||void 0===le?void 0:le.custom_templates)||[];return null!==H&&void 0!==H&&H.filterTemplates?null===H||void 0===H?void 0:H.filterTemplates(e):e}),[le,H]),oe=(0,u.useMemo)((function(){return O.hS.map((function(e){var n=e.Icon,t=e.label,i=e.selectedBackgroundColor,l=e.selectedIconProps,u=e.uuid,r=(null===H||void 0===H?void 0:H.uuid)===u,o=T({size:Z.ZG},r&&l?l:{});return(0,k.jsx)(Z.wj,{onClick:function(){return X(e)},selected:r,children:(0,k.jsxs)(h.ZP,{alignItems:"center",children:[(0,k.jsx)(Z.ze,{backgroundColor:r&&i?i(A):null,children:n?(0,k.jsx)(n,T({},o)):(0,k.jsx)(y.BlocksStacked,T({},o))}),(0,k.jsx)(b.ZP,{bold:!0,large:!0,children:t?t():u})]})},u)}))}),[H,A]),de=(0,u.useMemo)((function(){return null===te||void 0===te?void 0:te.map((function(e){var n=e.description,t=e.name,l=e.tags,u=e.template_uuid,r=e.user,o=[];return null!==l&&void 0!==l&&l.length?o.push.apply(o,(0,i.Z)(l)):null!==r&&void 0!==r&&r.username&&o.push(null===r||void 0===r?void 0:r.username),(0,k.jsxs)(Z.UE,{onClick:function(){S?S(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(u)))},children:[(0,k.jsx)(Z.Tj,{children:(0,k.jsx)(b.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||u})}),(0,k.jsx)(Z.SL,{children:(0,k.jsx)(b.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,k.jsx)(Z.EN,{children:(null===o||void 0===o?void 0:o.length)>=1&&(0,k.jsx)(f.Z,{tags:null===o||void 0===o?void 0:o.map((function(e){return{uuid:e}}))})})]},u)}))}),[te,S,M]),se=(0,u.useMemo)((function(){return null===re||void 0===re?void 0:re.map((function(e){var n=e.description,t=e.name,l=e.tags,u=e.template_uuid,r=e.user,o=[];return null!==l&&void 0!==l&&l.length?o.push.apply(o,(0,i.Z)(l)):null!==r&&void 0!==r&&r.username&&o.push(null===r||void 0===r?void 0:r.username),(0,k.jsxs)(Z.UE,{onClick:function(){S?S(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(u),"?object_type=").concat(p.R))},children:[(0,k.jsx)(Z.Tj,{children:(0,k.jsx)(b.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||u})}),(0,k.jsx)(Z.SL,{children:(0,k.jsx)(b.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,k.jsx)(Z.EN,{children:(null===o||void 0===o?void 0:o.length)>=1&&(0,k.jsx)(f.Z,{tags:null===o||void 0===o?void 0:o.map((function(e){return{uuid:e}}))})})]},u)}))}),[re,S,M]),ce=(0,u.useMemo)((function(){if(!D)return null;var e=[];return z?e.push.apply(e,[{label:function(){return"Templates"},onClick:function(){B(!1)}},{bold:!0,label:function(){return"New custom template"}}]):e.push({label:function(){return"Templates"}}),(0,k.jsx)(Z.FX,{children:(0,k.jsx)(s.Z,{breadcrumbs:e})})}),[z,D]),ae=(0,u.useMemo)((function(){return D?36:0}),[D]),pe=(0,u.useMemo)((function(){return N-ae}),[N,ae]);if(z)return n=p.R===_&&I?(0,k.jsx)(v.Z,{onMutateSuccess:ue,pipelineUUID:I,templateAttributes:H&&(null===H||void 0===H?void 0:H.uuid)!==(null===O.qy||void 0===O.qy?void 0:O.qy[0].uuid)?{pipeline_type:null===H||void 0===H?void 0:H.uuid}:null,templateUUID:null===V||void 0===V?void 0:V.template_uuid}):(0,k.jsx)(x.Z,{contained:t,heightOffset:ae,onCreateCustomTemplate:t?function(e){W(e)}:null,onMutateSuccess:ne,templateAttributes:H&&(null===H||void 0===H?void 0:H.uuid)!==(null===O.qy||void 0===O.qy?void 0:O.qy[0].uuid)?{block_type:null===H||void 0===H?void 0:H.uuid}:null,templateUUID:null===V||void 0===V?void 0:V.template_uuid}),t?(0,k.jsxs)(k.Fragment,{children:[D&&ce,(0,k.jsx)(Z.Rd,{height:pe,width:q,children:n})]}):n;var he=(0,k.jsxs)(Z.Nk,{children:[(0,k.jsxs)(Z.bC,{height:t?pe:null,children:[(0,k.jsx)(Z.Yf,{children:(0,k.jsx)(a.Z,{noPadding:!0,onClickTab:function(e){t?K(e):(0,P.u)({object_type:O.A2.uuid===e.uuid?p.R:p.Z})},selectedTabUUID:null===J||void 0===J?void 0:J.uuid,tabs:R})}),(0,k.jsxs)(Z.wl,{contained:t,heightOffset:ae,children:[O.n9.uuid===(null===J||void 0===J?void 0:J.uuid)&&(0,k.jsx)(d.Z,{navLinks:O.qy,selectedLink:H,setSelectedLink:X}),O.A2.uuid===(null===J||void 0===J?void 0:J.uuid)&&oe]})]}),(0,k.jsxs)(Z.w5,{children:[O.n9.uuid===(null===J||void 0===J?void 0:J.uuid)&&(0,k.jsx)(Z.HS,{children:(0,k.jsx)(c.ZP,{beforeIcon:(0,k.jsx)(y.Add,{size:Z.ZG}),onClick:function(){B(!0)},primary:!0,children:"New block template"})}),O.n9.uuid===(null===J||void 0===J?void 0:J.uuid)&&(0,k.jsxs)(k.Fragment,{children:[!ee&&(0,k.jsx)(j.Z,{p:2,children:(0,k.jsx)(m.Z,{inverted:!0})}),ee&&!(null!==de&&void 0!==de&&de.length)&&(0,k.jsxs)(j.Z,{p:2,children:[(0,k.jsx)(b.ZP,{children:"There are currently no templates matching your search."}),(0,k.jsx)("br",{}),(0,k.jsx)(b.ZP,{children:"Add a new template by clicking the button above."})]}),(null===de||void 0===de?void 0:de.length)>=1&&(0,k.jsx)(Z.n8,{children:de})]}),O.A2.uuid===(null===J||void 0===J?void 0:J.uuid)&&(0,k.jsxs)(k.Fragment,{children:[!le&&(0,k.jsx)(j.Z,{p:2,children:(0,k.jsx)(m.Z,{inverted:!0})}),le&&!(null!==se&&void 0!==se&&se.length)&&(0,k.jsxs)(j.Z,{p:2,children:[(0,k.jsx)(b.ZP,{children:"There are currently no templates matching your search."}),(0,k.jsx)("br",{}),(0,k.jsx)(b.ZP,{children:'Add a new template by right-clicking a pipeline row from the Pipelines page and selecting "Create template".'})]}),(null===se||void 0===se?void 0:se.length)>=1&&(0,k.jsx)(Z.n8,{children:se})]})]})]});return t?(0,k.jsxs)(k.Fragment,{children:[D&&ce,(0,k.jsx)(Z.Rd,{height:pe,width:q,children:he})]}):he}}}]);
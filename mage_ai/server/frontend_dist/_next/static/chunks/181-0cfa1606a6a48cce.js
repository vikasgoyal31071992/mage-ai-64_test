"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{52749:function(e,n,i){var r=i(82394),t=i(82684),l=i(71180),o=i(55485),s=i(93369),d=i(7267),u=i(38276),c=i(30160),a=i(35576),f=i(17488),p=i(72473),h=i(4015),v=i(70515),j=i(81728),m=i(28598);function b(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?b(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}n.Z=function(e){var n,i,r,b,g=e.createPipeline,P=e.isLoading,w=e.onClose,Z=(0,t.useRef)(null),O=(0,t.useState)(!1),I=O[0],C=O[1],y=(0,t.useState)({name:(0,j.Y6)()}),A=y[0],k=y[1];return(0,t.useEffect)((function(){var e;null===Z||void 0===Z||null===(e=Z.current)||void 0===e||e.focus()}),[]),(0,m.jsxs)(h.Nk,{children:[(0,m.jsx)(h.I5,{children:(0,m.jsx)(o.ZP,{alignItems:"center",justifyContent:"center",children:(0,m.jsx)(p.AISparkle,{size:5*v.iI,warning:!0})})}),(0,m.jsx)(h.gI,{children:(0,m.jsxs)(u.Z,{py:1,children:[(0,m.jsx)(u.Z,{mb:1,children:(0,m.jsx)(c.ZP,{default:!0,children:"New pipeline"})}),(0,m.jsx)(c.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,m.jsxs)(h.gI,{children:[(0,m.jsx)(c.ZP,{default:!0,children:"Name"}),(0,m.jsx)(f.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return k((function(n){return x(x({},n),{},{name:e.target.value})}))},paddingVertical:v.iI,placeholder:"Enter pipeline name...",value:(null===A||void 0===A?void 0:A.name)||""})]}),(0,m.jsx)(h.gI,{children:(0,m.jsxs)(o.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,m.jsx)(u.Z,{mb:2,pt:1,children:(0,m.jsx)(c.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,m.jsxs)(u.Z,{pb:1,pr:v.cd,children:[(0,m.jsx)(a.Z,{fullWidth:!0,onChange:function(e){return k((function(n){return x(x({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:d.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:Z,rows:8,value:(null===A||void 0===A||null===(n=A.llm)||void 0===n||null===(i=n.request)||void 0===i?void 0:i.pipeline_description)||""}),(P||I)&&(0,m.jsx)(u.Z,{mt:1,children:(0,m.jsx)(c.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,m.jsx)(h.$b,{children:(0,m.jsxs)(o.ZP,{fullWidth:!0,children:[(0,m.jsx)(s.ZP,{bold:!0,centerText:!0,disabled:!(null!==A&&void 0!==A&&A.name)||!(null!==A&&void 0!==A&&null!==(r=A.llm)&&void 0!==r&&null!==(b=r.request)&&void 0!==b&&b.pipeline_description),loading:P||I,onClick:function(){C(!0),g({pipeline:A}).then((function(){return C(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),w&&(0,m.jsx)(u.Z,{ml:1,children:(0,m.jsx)(l.ZP,{onClick:w,tabIndex:0,children:"Cancel"})})]})})]})}},94629:function(e,n,i){i.d(n,{Z:function(){return Z}});var r=i(82394),t=i(21831),l=i(82684),o=i(50724),s=i(1402),d=i(97618),u=i(70613),c=i(31557),a=i(68899),f=i(28598);function p(e,n){var i=e.children,r=e.noPadding;return(0,f.jsx)(a.HS,{noPadding:r,ref:n,children:i})}var h=l.forwardRef(p),v=i(62547),j=i(82571),m=i(77417),b=i(46684),x=i(75375);function g(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function P(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?g(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var i=e.after,r=e.afterHeader,l=e.afterHidden,p=e.afterWidth,g=e.afterWidthOverride,w=e.appendBreadcrumbs,Z=e.before,O=e.beforeHeader,I=e.beforeWidth,C=e.breadcrumbs,y=e.children,A=e.contained,k=e.errors,M=e.headerMenuItems,E=e.headerOffset,S=e.hideAfterCompletely,W=e.mainContainerHeader,N=e.navigationItems,B=e.setAfterHidden,D=e.setAfterWidth,T=e.setBeforeWidth,H=e.setErrors,_=e.subheaderChildren,z=e.subheaderNoPadding,R=e.title,F=e.uuid,U=(0,x.Z)(F,{beforeResizeOffset:x.H,setWidthAfter:D,setWidthBefore:T,widthAfter:p,widthBefore:I,widthOverrideAfter:g}),q=U.mainContainerRef,Y=U.mousedownActiveAfter,L=U.mousedownActiveBefore,G=U.setMousedownActiveAfter,Q=U.setMousedownActiveBefore,V=U.setWidthAfter,$=U.setWidthBefore,J=U.widthAfter,K=U.widthBefore,X=(0,m.Z)().project,ee=[];return C&&ee.push.apply(ee,(0,t.Z)(C)),null!==C&&void 0!==C&&C.length&&!w||!X||null!==C&&void 0!==C&&C.length||ee.unshift({bold:!w,label:function(){return R}}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{title:R}),(0,f.jsx)(c.Z,{breadcrumbs:ee,menuItems:M}),(0,f.jsxs)(a.Nk,{ref:n,children:[0!==(null===N||void 0===N?void 0:N.length)&&(0,f.jsx)(a.lm,{showMore:!0,children:(0,f.jsx)(j.Z,{navigationItems:N,showMore:!0})}),(0,f.jsx)(d.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:i,afterHeader:r,afterHeightOffset:b.Mz,afterHidden:l,afterMousedownActive:Y,afterWidth:J,before:Z,beforeHeader:O,beforeHeightOffset:b.Mz,beforeMousedownActive:L,beforeWidth:Z?K:a.k1,contained:A,headerOffset:E,hideAfterCompletely:!i||S,leftOffset:Z?a.k1:null,mainContainerHeader:W,mainContainerRef:q,setAfterHidden:B,setAfterMousedownActive:G,setAfterWidth:V,setBeforeMousedownActive:Q,setBeforeWidth:$,children:[_&&(0,f.jsx)(h,{noPadding:z,children:_}),y]})})]}),k&&(0,f.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===H||void 0===H?void 0:H(null)},children:(0,f.jsx)(s.Z,P(P({},k),{},{onClose:function(){return null===H||void 0===H?void 0:H(null)}}))})]})}var Z=l.forwardRef(w)},65458:function(e,n,i){i.d(n,{d:function(){return c}});var r=i(13507),t=i(72473),l=i(57653),o=i(70515),s=i(81728),d=i(28598),u=1.5*o.iI,c=function(e,n){var i=[{beforeIcon:(0,d.jsx)(t.BatchPipeline,{}),label:function(){return"Standard (batch)"},onClick:function(){return e({pipeline:{name:(0,s.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,d.jsx)(t.DataIntegrationPipeline,{}),label:function(){return"Data integration"},onClick:function(){return e({pipeline:{name:(0,s.Y6)(),type:l.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,d.jsx)(r.Z,{size:u}),label:function(){return"Streaming"},onClick:function(){return e({pipeline:{name:(0,s.Y6)(),type:l.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!==n&&void 0!==n&&n.showBrowseTemplates&&i.push({beforeIcon:(0,d.jsx)(t.TemplateShapes,{}),label:function(){return"From a template"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!==n&&void 0!==n&&n.showImportPipelineModal&&i.push({beforeIcon:(0,d.jsx)(t.Upload,{}),label:function(){return"Import pipeline zip"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showImportPipelineModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/upload"}),null!==n&&void 0!==n&&n.showAIModal&&i.push({beforeIcon:(0,d.jsx)(t.AISparkle,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),i}},70026:function(e,n,i){var r=i(75582),t=i(34376),l=i.n(t),o=i(82684),s=i(71180),d=i(84143),u=i(55485),c=i(65956),a=i(89515),f=i(35185),p=i(38276),h=i(75499),v=i(30160),j=i(69650),m=i(65327),b=i(42122),x=i(86735),g=i(70515),P=i(89538),w=i(28598);n.Z=function(e){var n=e.fetchPipelines,i=e.onCancel,t=(0,o.useState)(!1),Z=t[0],O=t[1],I=(0,o.useState)(!1),C=I[0],y=I[1],A=(0,o.useState)({}),k=A[0],M=A[1],E=(0,o.useState)({}),S=E[0],W=E[1],N=!(0,b.Qr)(k),B=(0,P.dd)((function(){var e=Object.values(S)[0],n=null===e||void 0===e?void 0:e.message,r=!!n;return(0,w.jsx)(a.Z,{cancelText:r?null:"Edit ".concat(null===e||void 0===e?void 0:e.name),centerOnScreen:!0,confirmText:"Close",danger:r,neutral:!r,onCancel:r?void 0:function(){return l().push("/pipelines/[pipeline]/edit","/pipelines/".concat(null===e||void 0===e?void 0:e.name,"/edit"))},onClick:function(){return i()},subtitle:r?n:"Pipeline ".concat(null===e||void 0===e?void 0:e.name," successfully imported!"),title:r?"Error on pipeline import.":"Successful import!",width:50*g.iI})}),{},[S],{background:!0,uuid:"confirm_upload"}),D=(0,r.Z)(B,1)[0],T=(0,o.useMemo)((function(){var e=[];return(0,x.YC)(Object.entries(k),(function(e){var n=(0,r.Z)(e,2),i=n[0];n[1];return i})).forEach((function(n){var i=(0,r.Z)(n,2),t=i[0],l=i[1],o=S[t],s=null===o||void 0===o?void 0:o.message;e.push([(0,w.jsxs)("div",{children:[(0,w.jsx)(v.ZP,{overflowWrap:!0,preWrap:!0,children:t}),s&&(0,w.jsx)(p.Z,{mt:1,children:(0,w.jsx)(v.ZP,{danger:!0,small:!0,children:s})})]},"name-".concat(t)),(0,w.jsx)(f.Z,{danger:!!s,progress:100*l},"progress-".concat(t))])})),(0,w.jsx)(h.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[k,S]);return(0,w.jsxs)(c.Z,{footer:(0,w.jsxs)(u.ZP,{fullWidth:!0,justifyContent:"space-between",children:[(0,w.jsx)(s.ZP,{onClick:function(){return i()},children:"Close"}),(0,w.jsx)(p.Z,{ml:1,children:(0,w.jsxs)(u.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,w.jsx)(v.ZP,{children:"Overwrite pipeline files"}),(0,w.jsx)(p.Z,{ml:1}),(0,w.jsx)(j.Z,{checked:Z,onCheck:O})]})})]}),headerTitle:"Import pipeline from .zip file",children:[N&&(0,w.jsx)(m.kA,{children:T}),!N&&(0,w.jsxs)(d.Z,{directoryPath:null,onDragActiveChange:y,overwrite:Z,pipelineZip:!0,setFileUploadProgress:M,setUploadedFiles:function(e){W(e),D(),null===n||void 0===n||n()},children:[(0,w.jsx)(m.es,{children:(0,w.jsxs)(v.ZP,{center:!0,children:[C&&"Drop pipeline zip to import",!C&&"Click or drop pipeline zip to upload"]})}),(0,w.jsx)(p.Z,{mt:2,children:(0,w.jsxs)(v.ZP,{warning:!0,children:["The zip file should include the pipeline\u2019s metadata.yaml file and each",(0,w.jsx)("br",{}),"block\u2019s script file in the root folder."]})})]})]})}}}]);